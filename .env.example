# =============================================================================
# Loggplattform Configuration
# =============================================================================
# Copy this file to .env and update the values.
# NEVER commit .env files with real secrets to version control!

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Admin API Key - REQUIRED
# Generate with: openssl rand -hex 32
# Used for admin endpoints (/api/admin/*)
ADMIN_API_KEY=change-me-admin-key

# =============================================================================
# PORT CONFIGURATION
# =============================================================================

# Backend API port (internal container always runs on 3000)
# Change this to avoid conflicts with other services on your machine
BACKEND_PORT=3001

# Web UI port
WEBUI_PORT=8080

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Option 1: SQLite (default - no DATABASE_URL needed)
# Just leave DATABASE_URL empty or unset
DB_PATH=./data/logs.db

# Option 2: PostgreSQL
# Uncomment and configure for PostgreSQL:
# DATABASE_URL=postgresql://loggplattform:your-password@localhost:5432/loggplattform

# PostgreSQL specific settings (for docker-compose.postgres.yml)
POSTGRES_USER=loggplattform
POSTGRES_PASSWORD=change-me-postgres-password
POSTGRES_DB=loggplattform
POSTGRES_PORT=5432

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: debug, info, warn, error, fatal (default: info)
LOG_LEVEL=info

# =============================================================================
# ARCHIVE CONFIGURATION
# =============================================================================

ARCHIVE_DIR=./data/archives
ARCHIVE_SCHEDULE=0 2 * * *
ARCHIVE_DAYS_OLD=1
ARCHIVE_RETENTION_DAYS=30
ARCHIVE_BATCH_SIZE=10000
CLEANUP_SCHEDULE=0 3 * * *

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Comma-separated list of allowed origins
# Use specific domains in production, NEVER use '*'
ALLOWED_ORIGINS=http://localhost:8080,http://localhost:5173,http://localhost:3001

# =============================================================================
# RATE LIMITING
# =============================================================================

RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
RATE_LIMIT_LOG_MAX=1000
RATE_LIMIT_BATCH_MAX=100

# =============================================================================
# BATCH CONFIGURATION
# =============================================================================

MAX_BATCH_SIZE=100

# =============================================================================
# SDK CONFIGURATION (for testing)
# =============================================================================

LOGGPLATTFORM_API_URL=http://localhost:3001
LOGGPLATTFORM_API_KEY=test-api-key-123
LOGGPLATTFORM_SERVICE=default-service
